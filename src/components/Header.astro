<header class="fixed inset-x-0 top-0 z-50 border-b border-primary/10 bg-background/80 backdrop-blur">
  <div class="mx-auto flex h-20 max-w-7xl items-center justify-between px-6">
    <a href="#inicio" class="flex items-center gap-3">
      <img src="/logo_color.png" alt="Logo JQ color" class="h-16 w-auto dark:hidden" />
      <img src="/logo_blanco.png" alt="Logo JQ blanco" class="hidden h-16 w-auto dark:block" />
      <span class="font-display text-xl font-semibold tracking-wide text-primary">Jessica Quiróz</span>
    </a>
    <nav class="hidden items-center gap-8 text-xs font-semibold uppercase tracking-[0.2em] text-text-main lg:flex">
      <div class="relative group">
        <button
          type="button"
          class="flex items-center gap-1 text-xs font-semibold uppercase tracking-[0.2em] text-text-main hover:text-primary transition-colors"
          aria-haspopup="true"
          aria-expanded="false"
        >
          Sobre mí
          <span class="material-icons text-base">expand_more</span>
        </button>
        <div class="invisible absolute left-0 top-full mt-3 w-56 rounded-2xl border border-primary/10 bg-white p-3 text-xs font-semibold uppercase tracking-[0.2em] text-text-main opacity-0 shadow-xl transition group-hover:visible group-hover:opacity-100 group-focus-within:visible group-focus-within:opacity-100">
          <a class="block rounded-lg px-3 py-2 hover:bg-background-alt/50 hover:text-primary" href="#cronologia">Cronología</a>
          <a class="block rounded-lg px-3 py-2 hover:bg-background-alt/50 hover:text-primary" href="#cursos">Cursos</a>
          <a class="block rounded-lg px-3 py-2 hover:bg-background-alt/50 hover:text-primary" href="#nociones">Nociones</a>
          <a class="block rounded-lg px-3 py-2 hover:bg-background-alt/50 hover:text-primary" href="#experiencias">Experiencias</a>
        </div>
      </div>
      <a class="hover:text-primary transition-colors" href="#rejuvenecimiento">Rejuvenecimiento</a>
      <a class="hover:text-primary transition-colors" href="#testimonios">Testimonios</a>
      <a class="hover:text-primary transition-colors" href="#reflexiones">Reflexiones</a>
      <a class="rounded-full bg-cta px-5 py-2 text-text-main shadow-lg ring-2 ring-cta/70 transition hover:-translate-y-0.5 hover:shadow-2xl" href="#contacto">Reservar</a>
    </nav>
    <button
      class="flex items-center justify-center rounded-full border border-primary px-4 py-2 text-xs font-semibold uppercase tracking-[0.2em] text-primary lg:hidden"
      type="button"
      aria-expanded="false"
      aria-controls="mobile-menu"
      data-menu-toggle
    >
      <span class="material-icons text-primary">menu</span>
    </button>
  </div>
  <div id="mobile-menu" class="hidden border-t border-primary/10 bg-background/95 lg:hidden" data-menu>
    <nav class="mx-auto flex max-w-7xl flex-col gap-4 px-6 py-6 text-xs font-semibold uppercase tracking-[0.2em] text-text-main">
      <button
        class="flex items-center justify-between rounded-full border border-primary/20 px-4 py-2 text-left text-xs font-semibold uppercase tracking-[0.2em] text-primary"
        type="button"
        aria-expanded="false"
        aria-controls="about-menu"
        data-about-toggle
      >
        Sobre mí
        <span class="material-icons text-base">expand_more</span>
      </button>
      <div id="about-menu" class="hidden flex-col gap-3 pl-4" data-about-menu>
        <a class="hover:text-primary transition-colors" href="#cursos">Cursos</a>
        <a class="hover:text-primary transition-colors" href="#nociones">Nociones</a>
        <a class="hover:text-primary transition-colors" href="#experiencias">Experiencias</a>
      </div>
      <a class="hover:text-primary transition-colors" href="#rejuvenecimiento">Rejuvenecimiento</a>
      <a class="hover:text-primary transition-colors" href="#testimonios">Testimonios</a>
      <a class="hover:text-primary transition-colors" href="#reflexiones">Reflexiones</a>
      <a class="rounded-full bg-cta px-5 py-2 text-center text-text-main shadow-lg ring-2 ring-cta/70 transition hover:-translate-y-0.5 hover:shadow-2xl" href="#contacto">Reservar</a>
    </nav>
  </div>
</header>

<script>
  const menuToggle = document.querySelector("[data-menu-toggle]");
  const menu = document.querySelector("[data-menu]");
  const aboutToggle = document.querySelector("[data-about-toggle]");
  const aboutMenu = document.querySelector("[data-about-menu]");

  if (menuToggle && menu) {
    menuToggle.addEventListener("click", () => {
      const isOpen = !menu.classList.contains("hidden");
      menu.classList.toggle("hidden");
      menuToggle.setAttribute("aria-expanded", String(!isOpen));
    });

    menu.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        menu.classList.add("hidden");
        menuToggle.setAttribute("aria-expanded", "false");
        if (aboutMenu && aboutToggle) {
          aboutMenu.classList.add("hidden");
          aboutToggle.setAttribute("aria-expanded", "false");
        }
      });
    });
  }

  if (aboutToggle && aboutMenu) {
    aboutToggle.addEventListener("click", () => {
      const isOpen = !aboutMenu.classList.contains("hidden");
      aboutMenu.classList.toggle("hidden");
      aboutMenu.classList.toggle("flex");
      aboutToggle.setAttribute("aria-expanded", String(!isOpen));
    });
  }
</script>
